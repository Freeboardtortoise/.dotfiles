echo "installing packages"
sudo pacman -Syu --noconfirm
sudo pacman -S -q --noconfirm hyprland
sudo pacman -S -q --noconfirm hyprlock
sudo pacman -S -q --noconfirm hyprpaper
sudo pacman -S -q --noconfirm waybar
sudo pacman -S -q --noconfirm aybar
sudo pacman -S -q --noconfirm ghostty
sudo pacman -S -q --noconfirm wofi
sudo pacman -S -q --noconfirm dolphin
sudo pacman -S -q --noconfirm git
sudo pacman -S -q --noconfirm firewalld ipset ebtables
sudo pacman -S -q --noconfirm dust
sudo pacman -S -q --noconfirm zellij
sudo pacman -S -q --noconfirm btop
sudo pacman -S -q --noconfirm pycharm-community-edition
sudo pacman -S -q --noconfirm firefox

echo "coppying hyprland related config files"
cd
cp -f .dotfiles/hypr/hyprland.conf .config/hypr/hyprland.conf
cp .dotfiles/hypr/hyprpaper.conf .config/hypr/
cp .dotfiles/hypr/hyprlock.conf .config/hypr/

echo "waybarring"

cd .config
mkdir waybar
cd

cp .dotfiles/waybar/config.jsonc .config/waybar/
cd .dotfiles/waybar/style.css .config/waybar/

echo "Ghostty config"

cp -f .dotfiles/ghostty/config .config/ghostty/config

echo "installing yay"

sudo pacman -S -q --needed base-devel --noconfirm
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si --noconfirm --needed

echo "installing homebrew"
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

echo "installing OBS-"
sudo pacman -S --noconfirm pipewire xdg-desktop-portal xdg-dektop-portal-wlr
sudo pacman -S --noconfirm qt5-wayland qt5ct

echo "coppying homescreen and lockscreen"

cd
mkdir Photos
cd
cp .dotfiles/home_screen.png Photos
cp .dotfiles/lockscreen.png Photos

sudo systemctl enable firewalld
sudo systemctl enable --now firewalld

mitigations=off

echo "cleaning up"
cd 
sudo rm -r .dotfiles

reboot -h now
