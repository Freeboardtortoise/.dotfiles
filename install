su
echo "installing packages"
pacman -Syu --noconfirm
pacman -S -q --noconfirm hyprland
pacman -S -q --noconfirm hyprlock
pacman -S -q --noconfirm hyprpaper
pacman -S -q --noconfirm waybar
pacman -S -q --noconfirm aybar
pacman -S -q --noconfirm ghostty
pacman -S -q --noconfirm wofi
pacman -S -q --noconfirm dolphin
pacman -S -q --noconfirm git
pacman -S -q --noconfirm firewalld ipset ebtables
pacman -S -q --noconfirm dust
pacman -S -q --noconfirm zellij
pacman -S -q --noconfirm btop
pacman -S -q --noconfirm pycharm-community-edition
pacman -S -q --noconfirm firefox

echo "coppying hyprland related config files"
cd
cp -f .dotfiles/hypr/hyprland.conf .config/hypr/hyprland.conf
cp .dotfiles/hypr/hyprpaper.conf .config/hypr/
cp .dotfiles/hypr/hyprlock.conf .config/hypr/

echo "waybarring"

cd .config
mkdir waybar
cd

cp .dotfiles/waybar/config.jsonc .config/waybar/
cd .dotfiles/waybar/style.css .config/waybar/

echo "Ghostty config"

cp -f .dotfiles/ghostty/config .config/ghostty/config

echo "installing yay"

pacman -S -q --needed base-devel --noconfirm
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si --noconfirm --needed

echo "installing homebrew"
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

echo "installing OBS-"
pacman -S --noconfirm pipewire xdg-desktop-portal xdg-dektop-portal-wlr
pacman -S --noconfirm qt5-wayland qt5ct

echo "coppying homescreen and lockscreen"

cd
mkdir Photos
cd
cp .dotfiles/home_screen.png Photos
cp .dotfiles/lockscreen.png Photos

systemctl enable firewalld
systemctl enable --now firewalld

mitigations=off

echo "cleaning up"
cd 
sudo rm -r .dotfiles

reboot -h now
